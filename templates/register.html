<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/register.css') }}">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Create Account</h1>
            <p>Join us today and get started</p>
        </div>

        <div id="successMessage" class="success-message">
            Account created successfully! You can now log in.
        </div>

        <form id="registrationForm">
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" name="username" required>
                <div class="error-message" id="usernameError"></div>
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" required>
                <div class="error-message" id="emailError"></div>
            </div>

            <div class="form-group">
                <label for="branch">Branch</label>
                <select name="branch" id="branch" required>
                    <option value="">Select Branch</option>
                    {% for branch in branches %}
                    <option value="{{ branch.id }}">{{ branch.name }}</option>
                    {% endfor %}
                </select>
                <div class="error-message" id="branchError"></div>
            </div>

            <div class="form-group">
                <label for="unit">Unit</label>
                <select name="unit" id="unit" required>
                    <option value="">Select Unit</option>
                    {% for unit in units %}
                        <option value="{{ unit.id }}" data-branch="{{ unit.branch_id }}" style="display: none;">{{ unit.name }}</option>
                    {% endfor %}
                </select>
                <div class="error-message" id="unitError"></div>
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" name="password" required>
                <div class="error-message" id="passwordError"></div>
            </div>
            
            <div class="form-group">
                <label for="confirmPassword">Confirm Password</label>
                <input type="password" id="confirmPassword" name="confirmPassword" required>
                <div class="error-message" id="confirmPasswordError"></div>
            </div>

            <button type="submit" class="submit-btn" id="submitBtn">
                <span class="btn-text">Create Account</span>
                <div class="loading"></div>
            </button>
        </form>

        <div class="login-link">
            Already have an account? <a href="/login">Sign in</a>
        </div>
        <a href="{{request.referrer}}" class="arrow-link">Back</a>
    </div>
<script src="{{ url_for('static', filename='js/register.js') }}"></script>
</body>
</html>