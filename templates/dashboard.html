{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
{% endblock %}

{% block title %}Dashboard{% endblock %}

{% block content %} 
<div class="table-container">
    <!-- Table Header -->
    <div class="table-header">
        <h2>Equipments</h2>
        <p>Track and manage equipments</p>
    </div>

    <!-- Search and Filter Section -->
    <div class="search-filter-section">
        <!-- Search Bar -->
        <div class="search-box">
            <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
            <input 
                type="text" 
                id="search-input" 
                class="search-input" 
                placeholder="Search by name, location, or serial number..."
            >
        </div>

        <!-- Filters -->
        <div class="filters-row">
            <div class="filter-group">
                <label for="status-filter" class="filter-label">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    Status
                </label>
                <select id="status-filter" class="filter-select">
                    <option value="all">All Statuses</option>
                    <option value="OK">OK</option>
                    <option value="Due Soon">Due Soon</option>
                    <option value="Over Due">Over Due</option>
                    <option value="Unknown">Unknown</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="location-filter" class="filter-label">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    Location
                </label>
                <select id="location-filter" class="filter-select">
                    <option value="all">All Locations</option>
                    <!-- Locations will be populated dynamically -->
                </select>
            </div>

            <button id="clear-filters" class="clear-filters-btn">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
                Clear Filters
            </button>
        </div>

        <!-- Results Count -->
        <div class="results-info">
            <span id="results-count" class="results-count">Loading...</span>
        </div>
    </div>

    <!-- Table -->
    <div class="table-wrapper">
        <table class="data-table">
            <thead>
                <tr>
                    <th class="sn-column">S/N</th>
                    <th>Name</th>
                    <th>Location</th>
                    <th>Next Calibration Date</th>
                    <th class="cal_status-column">Cal. Status</th>
                    <th class="action-column">Open</th>
                </tr>
            </thead>
            <tbody id="table-body">
                <!-- Dynamic rows will be inserted here -->
            </tbody>
        </table>
    </div>
</div>
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}